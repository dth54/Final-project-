<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nutrition & Everyday Performance</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Small page-specific adjustments */
    .section-root{ max-width:980px; margin:18px auto; padding:18px; }
    .topic-card{ background:#fff; border-radius:14px; padding:18px; margin-bottom:14px; box-shadow:0 6px 18px rgba(30,40,40,0.06); }
    .topic-card h2{ margin:0 0 8px 0; font-size:1.2rem; }
    .hero-inner{ max-width:980px; margin:16px auto; }
  </style>
</head>
<body>
  <header class="site-header">
    <h1 class="site-title">Everyday Nutrition & Performance</h1>
  </header>

  <main>
    <section class="hero hero-inner" id="home">
      <h2 class="hero-heading">Fuel your focus, energy, and mood</h2>
      <p class="hero-intro">Small, consistent food, hydration, and sleep choices make a big difference in concentration, stamina, and mood. Tap a topic or try the short quiz below.</p>

      <nav class="nav-buttons" aria-label="Main navigation">
        <div style="display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(220px,1fr));">
          <a class="btn" href="details.html#focus">Focus</a>
          <a class="btn" href="details.html#energy">Energy</a>
          <a class="btn" href="details.html#mood">Mood</a>
          <a class="btn" href="details.html#sleep">Sleep</a>
          <a class="btn" href="details.html#learn">Learn</a>
          <a class="btn" href="quiz6.html">Quick Quiz</a>
        </div>
      </nav>
    </section>

    <section class="section-root" id="focus">
      <div class="topic-card">
        <h2>Fuel for Focus</h2>
        <p>Your brain runs on steady energy — combining whole-grain carbohydrates with protein helps keep blood sugar stable and attention steady during study or long tasks.</p>
        <h3 style="margin-top:12px;">Build a Focus Plate — 3 steps</h3>
        <ol>
          <li><strong>Base:</strong> Whole grains or high-fiber carbs (brown rice, oats, whole-wheat bread).</li>
          <li><strong>Protein:</strong> Palm-sized portion (eggs, yogurt, beans, tofu).</li>
          <li><strong>Color & healthy fat:</strong> Vegetables or fruit + a small serving of nuts, seeds, or avocado.</li>
        </ol>
      </div>
    </section>

    <section class="section-root" id="energy">
      <div class="topic-card">
        <h2>Energy & Recovery</h2>
        <p>Timing matters: include a recovery snack with protein and carbs after heavy activity, and spread meals to avoid long energy gaps. Protein supports muscle and brain recovery.</p>
        <ul>
          <li>Post-workout: carbs + protein within 60–90 minutes.</li>
          <li>Plan small, balanced snacks when you have long study sessions.</li>
        </ul>
      </div>
    </section>

    <section class="section-root" id="mood">
      <div class="topic-card">
        <h2>Mood & Sleep</h2>
        <p>Diet quality links to sleep and mood. Nutrients like magnesium, vitamin D, omega‑3s, and iron play roles in sleep regulation and emotional well‑being.</p>
        <p>Favor whole foods (fish, nuts, leafy greens, fortified dairy) and avoid high-sugar, highly processed patterns that can worsen sleep quality.</p>
      </div>
    </section>

    <section class="section-root" id="summary">
      <div class="topic-card">
        <h2>Quick Summary</h2>
        <ul>
          <li><strong>Steady energy:</strong> carbs + protein.</li>
          <li><strong>Hydration:</strong> sip water regularly.</li>
          <li><strong>Healthy fats:</strong> omega‑3s support brain & sleep.</li>
          <li><strong>Sleep:</strong> aim for consistent 7–9 hours for most young adults.</li>
        </ul>
      </div>
    </section>

    <section class="section-root" id="quiz">
      <div class="topic-card">
        <h2>Quick 6‑Question Quiz</h2>
        <p>Reflect on simple habits. Results are educational, not medical.</p>

        <div id="questions"></div>

        <div style="display:flex; gap:12px; margin-top:12px;">
          <button id="submit" class="btn">Get Feedback</button>
          <button id="reset" class="btn secondary">Reset</button>
        </div>

        <div id="output" style="margin-top:12px"></div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <p>Practical, friendly tips — not medical advice. Sources: Harvard Nutrition, Sleep Foundation.</p>
  </footer>

  <script>
  // Load quiz from content/quiz.json and show explanations + 'Learn more' links
  async function initQuiz(){
    const resp = await fetch('content/quiz.json');
    const data = await resp.json();
    const qs = data.questions;
    const container = document.getElementById('questions');

    // map question id to topic area for 'Learn more' links
    const qToArea = { breakfast: 'focus', protein: 'focus', sleep: 'sleep', hydration: 'energy' };

    qs.forEach((q, idx)=>{
      const card = document.createElement('div'); card.className='q-card';
      const h = document.createElement('h3'); h.textContent = (idx+1)+'. '+q.text; card.appendChild(h);
      const opts = document.createElement('div'); opts.className='opts';

      q.options.forEach(opt=>{
        const b = document.createElement('button'); b.type='button'; b.className='opt'; b.textContent = opt.label;
        b.addEventListener('click', ()=>{
          opts.querySelectorAll('.opt').forEach(x=>x.classList.remove('selected'));
          b.classList.add('selected');
          // show explanation and learn more
          let ex = card.querySelector('.explain');
          if(!ex){ ex = document.createElement('div'); ex.className='explain'; ex.style.marginTop='8px'; card.appendChild(ex); }
          ex.innerHTML = `<p style="margin:0">${q.explain || ''}</p><p style="margin-top:6px"><a class="btn secondary" href="details.html#${qToArea[q.id] || 'learn'}">Learn more</a></p>`;
        });
        opts.appendChild(b);
      });

      card.appendChild(opts);
      container.appendChild(card);
    });

    document.getElementById('submit').addEventListener('click', ()=>{
      let total=0; let answered=0;
      const cards = document.querySelectorAll('.q-card');
      cards.forEach((card, i)=>{
        const sel = card.querySelector('.opt.selected');
        if(sel){ answered++; const q = qs[i]; const opt = q.options.find(o=>o.label===sel.textContent); if(opt && q.scores && q.scores[opt.value]!=null) total += q.scores[opt.value]; }
      });
      if(answered < qs.length){ alert('Please answer all questions.'); return; }

      const range = data.scoring.ranges.find(r=> total>=r.min && total<=r.max) || data.scoring.ranges[0];
      const sources = (data.sources || []).map(s=>`<li><a href="${s.url}" target="_blank">${s.name}</a></li>`).join('');
      const out = document.getElementById('output');
      out.innerHTML = `<div class="result" style="background:#eef7f5; border:1px solid rgba(42,143,122,0.08)"><h3>${range.label}</h3><p>${range.advice}</p><p><strong>Score:</strong> ${total}</p><h4>Sources</h4><ul>${sources}</ul></div>`;
    });

    document.getElementById('reset').addEventListener('click', ()=>{ document.querySelectorAll('.opt.selected').forEach(b=>b.classList.remove('selected')); document.getElementById('output').innerHTML=''; });
  }

  initQuiz();
  </script>

</body>
</html>
